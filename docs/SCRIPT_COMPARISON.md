# 脚本版本对比和选择指南

## 📋 可用脚本列表

### 🧠 智能转换脚本 ⭐ **推荐**
**文件**: `src/dcm2niix_smart_convert.py`

**特点**：
- 🎯 智能序列分析和选择
- ⚡ 处理速度提升4倍
- 💾 磁盘使用减少50%
- 🔍 多维评分算法

**适用场景**：
- 大批量数据处理
- 标准临床研究
- 追求高效率
- 只需主要序列

---

### 🔄 传统转换脚本
**文件**: `src/dcm2niix_batch_keep_max.py`

**特点**：
- 📊 转换所有序列
- 🎚️ 按文件大小筛选
- 🔍 可查看所有序列类型
- ⚠️ 处理时间较长

**适用场景**：
- 需要全序列分析
- 手动质量控制
- 特殊研究需求
- 不确定最佳序列

---

### 📊 元数据提取脚本
**文件**: `src/extract_case_metadata.py`

**特点**：
- 📋 提取DICOM元数据
- 📁 生成CSV和JSON
- 🏥 包含患者和设备信息
- ⚡ 快速分析

**适用场景**：
- 数据清单整理
- 质量评估
- 统计分析
- 研究设计

---

### 🎛️ 统一处理脚本
**文件**: `src/process_cases_from_dir.py`

**特点**：
- 🔗 整合多个功能
- 🎚️ 支持参数控制
- 📊 元数据+转换
- 🔄 灵活的处理流程

**适用场景**：
- 完整数据处理流程
- 自动化批处理
- 需要元数据和影像
- 脚本集成

## 🚀 推荐使用流程

### 标准流程（推荐）
```bash
# 1. 智能转换（快速高效）
python src/dcm2niix_smart_convert.py

# 2. 如需元数据
python src/extract_case_metadata.py
```

### 完整流程
```bash
# 一步完成：元数据 + 传统转换
python src/process_cases_from_dir.py
```

### 自定义流程
```bash
# 只要元数据
python src/extract_case_metadata.py

# 只要智能转换
python src/dcm2niix_smart_convert.py

# 只要传统转换
python src/dcm2niix_batch_keep_max.py
```

## 📊 性能对比表

| 脚本 | 处理时间 | 输出文件 | 磁盘使用 | 精度 | 推荐度 |
|------|----------|----------|----------|------|---------|
| 智能转换 | 7分20秒 | 1个/案例 | 4GB | 智能评分 | ⭐⭐⭐⭐⭐ |
| 传统转换 | 29分40秒 | 1个/案例 | 8-10GB | 文件大小 | ⭐⭐⭐ |
| 元数据提取 | 4分钟 | CSV/JSON | <1MB | N/A | ⭐⭐⭐⭐ |
| 统一处理 | 33分钟 | 全套 | 8-10GB | 混合 | ⭐⭐⭐ |

## 🎯 选择建议

### 🥇 首选：智能转换
90%的应用场景推荐使用智能转换：
- 研究用途的主序列提取
- 大规模数据处理
- AI模型训练数据准备
- 标准影像分析流程

### 🥈 备选：传统转换
特殊需求时考虑：
- 需要检查所有序列
- 不确定哪个序列最重要
- 手动质控要求
- 特殊研究协议

### 🏆 最佳实践
```bash
# 第一步：快速智能转换
python src/dcm2niix_smart_convert.py

# 第二步：提取元数据用于分析
python src/extract_case_metadata.py

# 第三步：使用分析脚本查看结果
python src/analyze_results.py
```

---
*更新时间：2025-10-06*
*推荐：优先使用智能转换脚本*